---
title: "Netzwerkanalyse"
subtitle: "Eine Netzwerkanalyse basierend auf der ORG-Entit√§t: Justus Liebig Universit√§t"
figtitle: "üï∏Ô∏è"
draft: false
toc_show: true
execute:
  echo: false
  warning: false
  message: false
---

```{r}
ggplot2::theme_set(`+`(
  ggplot2::theme_minimal(base_size = 14, base_family = "Open Sans"),
  ggplot2::theme(
    axis.text.x = ggplot2::element_text(size = 12),
    axis.text.y = ggplot2::element_text(size = 12),
    axis.title.x = ggplot2::element_text(size = 14),
    axis.title.y = ggplot2::element_text(size = 14),
    title = ggplot2::element_text(size = 14),
    strip.text = ggplot2::element_text(size = 14),
    panel.grid.major = ggplot2::element_blank(),
    panel.grid.minor = ggplot2::element_blank(),
    panel.background = ggplot2::element_rect(fill = NA, colour = NA),
    plot.background = ggplot2::element_rect(fill = NA, colour = NA),
    legend.position = "bottom"
  )
))
```

<!-- ## üéØ Motivation der Fallstudie -->
## Motivation der Fallstudie

Unternehmen, Organisationen, Personen und mit ihnen verbundende Orte stehen heute in einem **dichten Geflecht √∂ffentlicher Kommunikation**. T√§glich erscheinen Hunderte von Nachrichtenartikel, die √ºber sie berichten und sie in Zusammenhang mit verschiedenen Akteuren nennen.

F√ºr kleine und mittlere Unternehmen (KMUs) wie auch f√ºr andere Organisationen wie z.B. der Hochschule "Justus-Liebig-Universit√§t Gie√üen" gilt:

{{{< fa-ul >}}}
  {{{< fa-solid-li icon="eye" >}}} Die eigene Sichtbarkeit in den Medien ist wichtig, um **Kunden, Partner und F√∂rderer** zu erreichen.{{{< /fa-solid-li >}}}
  {{{< fa-solid-li icon="diagram-project" >}}} Gleichzeitig ist es entscheidend zu verstehen, **mit wem** man in den Nachrichten in Verbindung gebracht wird.{{{< /fa-solid-li >}}}
{{{< /fa-ul >}}}

Hierf√ºr eignet sich die Anwendung einer Netzwerkanalyse!


## Warum Netzwerkanalyse?

Eine **Netzwerkanalyse** hilft dabei, genau dieses Beziehungsgeflecht sichtbar zu machen:
{{{< fa-ul >}}}
  {{{< fa-solid-li icon="play" >}}} **Knoten** sind die **Entit√§ten** ‚Äì also Personen (PER), Organisationen (ORG) und Orte (LOC), die in Nachrichten erw√§hnt werden.
sichtbar.{{{< /fa-solid-li >}}}
  {{{< fa-solid-li icon="play" >}}} **Kanten** entstehen, wenn zwei Entit√§ten **gemeinsam in einem Artikel** auftauchen. {{{< /fa-solid-li >}}}
  {{{< fa-solid-li icon="play" >}}} Aus vielen einzelnen Artikeln entsteht so ein **Netzwerk**, das zeigt, wer mit wem in Verbindung gebracht wird und welche Akteure besonders zentral sind. {{{< /fa-solid-li >}}}
{{{< /fa-ul >}}}


## Vorteile einer Netzwerkanalyse

Eine Netzwerkanalyse bietet eine Reihe von Vorteilen:

{{{< fa-ul >}}}
  {{{< fa-solid-li icon="magnifying-glass" >}}} **Durchblick gewinnen:** eine Netzwerkanalyse verdichtet viele Einzelinformationen und macht **Zusammenh√§nge und Beziehungen** sichtbar. {{{< /fa-solid-li >}}}
  {{{< fa-solid-li icon="person" >}}} **Wichtige Akteure erkennen:** man sieht sofort, **welche Personen, Organisationen und Orte im Mittelpunkt stehen** und welche Verbindungen besonders stark sind. {{{< /fa-solid-li >}}}
  {{{< fa-solid-li icon="chart-simple" >}}} **Einfach verst√§ndlich darstellen:** komplexe Beziehungen werden in **anschaulichen Grafiken** sichtbar und leicht kommunizierbar. {{{< /fa-solid-li >}}}
{{{< /fa-ul >}}}


## Anwendungsbeispiel

Am Beispiel der ORG-Entit√§t **"Justus-Liebig-Universit√§t"** wird ein exemplarisches Netzwerk aufgebaut. Grundlage sind **100 aktuelle Nachrichtenartikel**, die √ºber die Justus-Liebig-Universit√§t in **lokaler und √ºberregionaler Berichterstattung** erschienen sind und im Google-News-Feed gelistet wurden. Diese Artikel werden automatisiert extrahiert und mithilfe eines **Eigennamenerkennungsmodells** analysiert. Das Modell identifiziert in den Texten **Personennamen (PER)**, **Ortsnamen (LOC)** und **Organisationsnamen (ORG)**. Auf dieser Basis lassen sich zentrale Akteure bestimmen und ihre Beziehungen sichtbar machen.

Das folgende Beispiel zeigt einen Ausschnitt aus einem Nachrichtenartikel, in dem die relevanten Entit√§ten farblich hervorgehoben sind:

::: {.callout-note icon="false"}
## Beispielausschnitt eines Nachrichtenartikels mit hervogehobenen Entit√§ten

```{=html}
<style>
/* mark.org { background:#e6f2ff; border:1px solid #b3d4ff; padding:0 .25em; border-radius:.25rem; } */
/* mark.loc { background:#e9ffe6; border:1px solid #b8f0b2; padding:0 .25em; border-radius:.25rem; } */
/* mark.per { background:#fff0e6; border:1px solid #ffd2b3; padding:0 .25em; border-radius:.25rem; } */
</style>
```
```{=html}
<style>
mark.org { background: #837591; color: #fefffc; padding:0 .25em; border-radius:.25rem; }
mark.loc { background: #009392; color: #fefffc; padding:0 .25em; border-radius:.25rem; }
mark.per { background: #cf597e; color: #fefffc; padding:0 .25em; border-radius:.25rem; }
</style>
```

[...] Die beiden traditionsreichsten Universit√§ten in <mark class="loc">Hessen (LOC)</mark> gehen gemeinsam in den Wettbewerb um den begehrten Titel ¬ªExzellenzuniversit√§t¬´. Die <mark class="org">Justus-Liebig-Universit√§t Gie√üen (ORG)</mark> (<mark class="org">JLU (ORG)</mark>) und die <mark class="org">Philipps-Universit√§t Marburg (ORG)</mark> (<mark class="org">UMR (ORG)</mark>) haben eine Absichtserkl√§rung f√ºr einen Verbundantrag in der zweiten F√∂rderlinie der Exzellenzstrategie eingereicht.

Nach dem gro√üen Erfolg der beiden Universit√§ten, die im Mai insgesamt vier Exzellenzcluster eingeworben haben, steht nun der n√§chste Schritt im bundesweiten Spitzenforschungswettbewerb an.

¬ªDass wir nach unserem hervorragenden Abschneiden in der ersten F√∂rderlinie unsere Kompetenzen b√ºndeln und uns gemeinsam positionieren, ist die richtige Entscheidung¬´, sagt Prof. Dr. <mark class="per">Katharina Lorenz (PER)</mark>, Pr√§sidentin der <mark class="org">Justus-Liebig-Universit√§t (ORG)</mark>.

¬ªWir blicken auf eine lange gemeinsame Geschichte zur√ºck, die insbesondere in den letzten Jahrzehnten von einem sehr partnerschaftlichen Geist getragen ist.¬´(...)
:::

In diesem Beispiel werden der Ort **‚ÄûHessen‚Äú**, die Person **‚ÄûKatharina Lorenz‚Äú** sowie die Organisationen **‚ÄûUMR‚Äú** und **‚ÄûJLU‚Äú** als Entit√§ten erkannt. Wendet man dieses Verfahren systematisch auf alle JLU-bezogenen Nachrichtenartikel an, lassen sich die identifizierten Entit√§ten in einer **H√§ufigkeitstabelle** zusammenfassen. Auf diese Weise treten die wichtigsten Akteure deutlicher hervor.

Die folgende Tabelle zeigt die H√§ufigkeiten ausgew√§hlter Entit√§ten:

```{r}
# **H√§ufgkeit ausgew√§hlter Entit√§ten in Bezug auf JLU bezogenen Nachrichten**

# | Rang | Entit√§t                                  | Typ | H√§ufigkeit |
# |-----:|------------------------------------------|-----|------------|
# |    1 | JLU                                      | ORG | 375        |
# |    2 | Gie√üen                                   | LOC | 245        |
# |    3 | Hessen                                   | LOC | 62         |
# |    4 | Deutschland                              | LOC | 42         |
# |    5 | Katharina Lorenz                         | PER | 38         |
# |    6 | Philipps-Universit√§t Marburg (UMR)       | ORG | 20         |
# |    7 | THM (Technische Hochschule Mittelhessen) | ORG | 20         |
# |   11 | AStA                                     | ORG | 9          |
# |   18 | DFG                                      | ORG | 6          |

entity_freq_data <- tibble::tribble(
  ~Rang, ~Entit√§t, ~Typ, ~H√§ufigkeit,
  1, "JLU", "ORG", 375,
  2, "Gie√üen", "LOC", 245,
  3, "Hessen", "LOC", 62,
  4, "Deutschland", "LOC", 42,
  5, "Katharina Lorenz", "PER", 38,
  6, "Philipps-Universit√§t Marburg (UMR)", "ORG", 20,
  7, "THM (Technische Hochschule Mittelhessen)","ORG", 20,
  11, "AStA", "ORG", 9,
  18, "DFG", "ORG", 6
)

# entity_freq_data
entity_freq_data |>
  gt::gt() |>
  gt::tab_caption("H√§ufigkeiten ausgew√§hlter Entit√§ten") |>
  gt::tab_options(table.width = gt::pct(100)) |>
  nd.util::nd_gt_tab_options() |>
  nd.util::nd_gt_to_html()
```

Auf Basis dieser Tabelle l√§sst sich ein erstes Netzwerk aufbauen: Die **JLU** steht im Zentrum, alle weiteren Entit√§ten werden als Knoten mit ihrem **Typ (Farbe)** visualisiert. Kanten verbinden die JLU mit den wichtigsten, h√§ufig genannten Akteuren in der aktuellen Berichterstattung.

```{r}
#install.packages("remotes")
#remotes::install_version("ggforce", version = "0.4.2", repos = "https://cran.rstudio.com")
#remotes::install_version("ggraph",  version = "2.2.1", repos = "https://cran.rstudio.com")

library(ggforce)
library(tidyverse)
library(tidygraph)
library(ggraph)

nodes = tibble::tribble(
  ~name, ~Typ,
  "JLU", "ORG",
  "Gie√üen", "LOC",
  "Hessen", "LOC",
  "Deutschland", "LOC",
  "Katharina Lorenz", "PER",
  "UMR", "ORG",
  "THM", "ORG",
  "AStA", "ORG",
  "DFG", "ORG"
)

edges = nodes %>%
  filter(name != "JLU") %>%
  transmute(from = "JLU", to = name)

graph = tbl_graph(nodes = nodes, edges = edges, directed = TRUE)

color_typ = c(ORG = "#837591", LOC = "#009392", PER = "#cf597e")

ggraph(graph, layout = "kk") +
  geom_edge_link(color = "grey60") +
  geom_node_point(
    aes(fill = Typ),
    color = "#fefffc",
    size = 6,
    shape = 21,
    stroke = 2
  ) +
  geom_node_text(
    aes(label = name),
    repel = TRUE,
    size = 4,
    family = "Open Sans",
    color = "#212529",
    bg.color = "#fefffc",
    bg.r = 0.1
  ) +
  scale_fill_manual(values = color_typ) +
  theme_void()
```

Bisher wurde das Netzwerk nur ausgehend von der JLU betrachtet. Doch ein vollst√§ndigeres Bild entsteht, wenn man auch die **Verbindungen der angrenzenden Akteure** untersucht. Werden die Nachrichtenartikel zu diesen Entit√§ten ebenfalls auf ihre zentralen Personen, Orte und Organisationen hin analysiert, w√§chst das Netz Schritt f√ºr Schritt weiter. So l√§sst sich nachvollziehen, **wie sich das Umfeld der JLU √ºber die zweite Ebene hinweg verzweigt und verdichtet**.

Das folgende Schaubild zeigt die erweiterte Netzwerkstruktur:

```{r}
library(tidygraph)
library(ggraph)

# --- Nodes ---
# cat(datapasta::tribble_construct(nodes))

nodes <- data.frame(
  name = c(
    "JLU",
    "Gie√üen",
    "Hessen",
    "Deutschland",
    "Katharina Lorenz",
    "Philipps-Universit√§t Marburg",
    "THM",
    "AStA",
    "DFG",
    "Friedberg",
    "Matthias Willems",
    "Berlin",
    "SPD",
    "CDU",
    "Friedrich Merz",
    "SFB",
    "Katja Becker",
    "StuPa",
    "KuZe",
    "Uni Potsdam",
    "Goesmann",
    "Martin Kramer",
    "Joybrato Mukherjee",
    "Frankfurt",
    "Anke Hofmann",
    "Marburg",
    "Landgrafenhaus",
    "Thomas Nauss",
    "Timon Gremmels",
    "Wiesbaden"
  ),
  Typ = c(
    "ORG",
    "LOC",
    "LOC",
    "LOC",
    "PER",
    "ORG",
    "ORG",
    "ORG",
    "ORG",
    "LOC",
    "PER",
    "LOC",
    "ORG",
    "ORG",
    "PER",
    "ORG",
    "PER",
    "ORG",
    "ORG",
    "ORG",
    "PER",
    "PER",
    "PER",
    "LOC",
    "PER",
    "LOC",
    "LOC",
    "PER",
    "PER",
    "LOC"
  ),
  stringsAsFactors = FALSE
)

# --- Edges ---
edges <- data.frame(
  from = c(
    # JLU -> Hauptakteure
    "JLU",
    "JLU",
    "JLU",
    "JLU",
    "JLU",
    "JLU",
    "JLU",
    "JLU",
    # THM -> verbundene Entit√§ten
    "THM",
    "THM",
    "THM",
    "THM",
    "THM",
    # Deutschland -> verbundene Entit√§ten
    "Deutschland",
    "Deutschland",
    "Deutschland",
    "Deutschland",
    # DFG -> verbundene Entit√§ten
    "DFG",
    "DFG",
    "DFG",
    "DFG",
    # AStA -> verbundene Entit√§ten
    "AStA",
    "AStA",
    "AStA",
    # Katharina Lorenz -> Personen
    "Katharina Lorenz",
    "Katharina Lorenz",
    "Katharina Lorenz",
    "Katharina Lorenz",
    # Hessen -> verbundene Entit√§ten
    "Hessen",
    "Hessen",
    "Hessen",
    # UMR (Philipps-Universit√§t Marburg) -> verbundene Entit√§ten
    "Philipps-Universit√§t Marburg",
    "Philipps-Universit√§t Marburg",
    "Philipps-Universit√§t Marburg",
    "Philipps-Universit√§t Marburg",
    "Philipps-Universit√§t Marburg",
    # JLU -> Timon Gremmels
    "JLU",
    # Timon Gremmels -> verbundene Entit√§ten
    "Timon Gremmels",
    "Timon Gremmels",
    "Timon Gremmels",
    "Timon Gremmels"
  ),
  to = c(
    "Gie√üen",
    "Hessen",
    "Deutschland",
    "Katharina Lorenz",
    "Philipps-Universit√§t Marburg",
    "THM",
    "AStA",
    "DFG",
    "Friedberg",
    "Deutschland",
    "Gie√üen",
    "JLU",
    "Matthias Willems",
    "Berlin",
    "SPD",
    "CDU",
    "Friedrich Merz",
    "Deutschland",
    "Berlin",
    "SFB",
    "Katja Becker",
    "StuPa",
    "KuZe",
    "Uni Potsdam",
    "Goesmann",
    "Martin Kramer",
    "Joybrato Mukherjee",
    "Timon Gremmels",
    "Frankfurt",
    "Gie√üen",
    "Anke Hofmann",
    "Gie√üen",
    "Marburg",
    "Landgrafenhaus",
    "Matthias Willems",
    "Thomas Nauss",
    "Timon Gremmels",
    "SPD",
    "Frankfurt",
    "Wiesbaden",
    "Hessen"
  )
)


graph <- tbl_graph(nodes = nodes, edges = edges, directed = FALSE)

ggraph(graph, layout = "kk") +
  geom_edge_link(color = "grey60", alpha = 0.7) +
  geom_node_point(
    aes(fill = Typ),
    color = "#fefffc",
    size = 8,
    shape = 21,
    stroke = 2
  ) +
  geom_node_text(
    aes(label = name),
    repel = TRUE,
    size = 3.5,
    family = "Open Sans",
    color = "#212529",
    bg.color = "#fefffc",
    bg.r = 0.1
  ) +
  scale_fill_manual(values = color_typ) +
  theme_void()
```

Durch die Erweiterung des Netzwerks entsteht ein viel dichteres Beziehungsnetz. Es zeigt sich, dass die Universit√§t nicht nur lokal mit Gie√üen und Hessen verbunden ist, sondern auch eng mit √ºberregionalen Akteuren aus Wissenschaft, Politik und Gesellschaft verwoben ist. Einzelpersonen wie Katharina Lorenz oder Timon Gremmels treten dabei ebenso in Erscheinung wie Organisationen wie die DFG, der AStA oder regionale Partneruniversit√§ten. Die JLU ist damit eingebettet in ein Netz von Institutionen, Orten und Personen.

*Das Netzwerk kann prinzipiell um beliebig viele weitere Ebenen erweitert werden. F√ºr die Zwecke dieser Fallstudie belassen wir es jedoch bei der aktuellen Darstellung, um die √úbersichtlichkeit zu wahren.*

## Fazit

Die Fallstudie zeigt exemplarisch, wie sich aus Nachrichtenartikeln mit Bezug zur Justus-Liebig-Universit√§t ein Netzwerk aus Personen, Organisationen und Orten ableiten l√§sst. Netzwerkanalysen sind wichtig, um **Beziehungen sichtbar zu machen und zentrale Akteure aufzudecken**. Sie lassen sich ausgehend von jeder beliebigen Entit√§t ‚Äì sei es eine Organisation, ein Ort oder eine Person ‚Äì aufbauen und Schritt f√ºr Schritt erweitern.

